<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data transformation | Changes of international students in the U.S. around the epidemic</title>
  <meta name="description" content="Chapter 3 Data transformation | Changes of international students in the U.S. around the epidemic" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data transformation | Changes of international students in the U.S. around the epidemic" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data transformation | Changes of international students in the U.S. around the epidemic" />
  
  
  

<meta name="author" content="Jiayuan Zhou, Wenqi Yu" />


<meta name="date" content="2022-05-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources.html"/>
<link rel="next" href="missing-values.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">international students changes in U.S.</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#general-information-of-dataset"><i class="fa fa-check"></i><b>2.1</b> General Information of Dataset</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#describtion-of-variable"><i class="fa fa-check"></i><b>2.2</b> Describtion of Variable</a></li>
<li class="chapter" data-level="2.3" data-path="data-sources.html"><a href="data-sources.html#issue-of-data-set"><i class="fa fa-check"></i><b>2.3</b> Issue of Data set</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#read-data"><i class="fa fa-check"></i><b>3.1</b> Read data</a></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#cleaning"><i class="fa fa-check"></i><b>3.2</b> Cleaning</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-transformation.html"><a href="data-transformation.html#remove-the-empty-row-and-extra-notes-in-data"><i class="fa fa-check"></i><b>3.2.1</b> Remove the empty row and extra notes in data</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-transformation.html"><a href="data-transformation.html#unified-logic-type-of-value-and-group"><i class="fa fa-check"></i><b>3.2.2</b> Unified logic type of value and group</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-transformation.html"><a href="data-transformation.html#data-use-for-next-few-parts"><i class="fa fa-check"></i><b>3.3</b> Data use for next few parts</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a>
<ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#na-shows-in-different-groups-by-column"><i class="fa fa-check"></i><b>4.1</b> NA shows in different groups by column</a></li>
<li class="chapter" data-level="4.2" data-path="missing-values.html"><a href="missing-values.html#total-number-of-missing-values-by-column"><i class="fa fa-check"></i><b>4.2</b> Total number of missing values by column</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#what-the-number-of-international-students-and-growth-trend-in-20-century-and-21-century"><i class="fa fa-check"></i><b>5.1</b> What the number of international students and growth trend in 20 century and 21 century</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#total-number-of-international-students-study-in-the-u.s.-in-different-century"><i class="fa fa-check"></i><b>5.1.1</b> Total number of international students study in the U.S. in different century</a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#trend-of-international-students-study-in-the-u.s.-in-different-century"><i class="fa fa-check"></i><b>5.1.2</b> trend of international students study in the U.S. in different century</a></li>
<li class="chapter" data-level="5.1.3" data-path="results.html"><a href="results.html#the-largest-increase-in-the-total-number-of-students-per-countryregion-in-two-centuries-on-the-continent"><i class="fa fa-check"></i><b>5.1.3</b> The largest increase in the total number of students per country/region in two centuries on the continent</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Changes of international students in the U.S. around the epidemic</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transformation" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Data transformation<a href="data-transformation.html#data-transformation" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="read-data" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Read data<a href="data-transformation.html#read-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Our data is come from <em>Open Door</em>, which is sponsored by the U.S. Government and Institute of International Education. The original data file format is Microsoft Excel, and <code>NA</code> is represent by “-”. More, the first column name of place code is empty, so we name it by <code>Code of Origin</code>.</p>
<table style="width:100%;">
<caption><span id="tab:unnamed-chunk-6">Table 3.1: </span>A table of the first 4 rows of our final project data.</caption>
<colgroup>
<col width="34%" />
<col width="15%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Place of Origin</th>
<th align="right">Code of Origin</th>
<th align="right">1949/50</th>
<th align="right">1954/55</th>
<th align="right">1959/60</th>
<th align="right">1964/65</th>
<th align="right">1969/70</th>
<th align="right">1974/75</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">AFRICA, SUB-SAHARAN</td>
<td align="right">1000</td>
<td align="right">537</td>
<td align="right">862</td>
<td align="right">1346</td>
<td align="right">5259</td>
<td align="right">6064</td>
<td align="right">16040</td>
</tr>
<tr class="odd">
<td align="left">Africa, Sub-saharan, Unspecified</td>
<td align="right">NA</td>
<td align="right">19</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">9</td>
<td align="right">17</td>
<td align="right">30</td>
</tr>
<tr class="even">
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
<p>In this table, we can see the data have meaningless NA row, and the value in <code>Place of Origin</code> not unified into one logistic type, for example, all value in side are countries or regions. Thus, we need to cleaning them before analysis.</p>
<p><br></p>
</div>
<div id="cleaning" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Cleaning<a href="data-transformation.html#cleaning" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="remove-the-empty-row-and-extra-notes-in-data" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Remove the empty row and extra notes in data<a href="data-transformation.html#remove-the-empty-row-and-extra-notes-in-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="data-transformation.html#cb1-1" aria-hidden="true" tabindex="-1"></a>uselessRow <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(<span class="fu">is.na</span>(projdata)) <span class="sc">==</span> <span class="fu">ncol</span>(projdata)</span>
<span id="cb1-2"><a href="data-transformation.html#cb1-2" aria-hidden="true" tabindex="-1"></a>numNARow <span class="ot">&lt;-</span> <span class="fu">sum</span>(uselessRow)</span>
<span id="cb1-3"><a href="data-transformation.html#cb1-3" aria-hidden="true" tabindex="-1"></a>numNARow</span></code></pre></div>
<pre><code>## [1] 30</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="data-transformation.html#cb3-1" aria-hidden="true" tabindex="-1"></a>projdata <span class="ot">&lt;-</span> projdata[<span class="sc">!</span>uselessRow,] <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="data-transformation.html#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">grepl</span>(<span class="st">&quot;:&quot;</span>,<span class="st">`</span><span class="at">Place of Origin</span><span class="st">`</span>))</span>
<span id="cb3-3"><a href="data-transformation.html#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="data-transformation.html#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">rowSums</span>(<span class="fu">is.na</span>(projdata)) <span class="sc">==</span> <span class="fu">ncol</span>(projdata))</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<table style="width:100%;">
<caption><span id="tab:unnamed-chunk-8">Table 3.2: </span>A table of the last 3 rows to check no extra information.</caption>
<colgroup>
<col width="31%" />
<col width="16%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Place of Origin</th>
<th align="right">Code of Origin</th>
<th align="right">1949/50</th>
<th align="right">1954/55</th>
<th align="right">1959/60</th>
<th align="right">1964/65</th>
<th align="right">1969/70</th>
<th align="right">1974/75</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Pacific Islands, Unspecified</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">15</td>
<td align="right">38</td>
<td align="right">145</td>
<td align="right">327</td>
<td align="right">1263</td>
</tr>
<tr class="even">
<td align="left">Stateless</td>
<td align="right">9901</td>
<td align="right">195</td>
<td align="right">42</td>
<td align="right">93</td>
<td align="right">205</td>
<td align="right">341</td>
<td align="right">134</td>
</tr>
<tr class="odd">
<td align="left">WORLD TOTAL</td>
<td align="right">NA</td>
<td align="right">26433</td>
<td align="right">34232</td>
<td align="right">48486</td>
<td align="right">82045</td>
<td align="right">134959</td>
<td align="right">154580</td>
</tr>
</tbody>
</table>
<p>In this table, we can see we remove the empty rows and notes in the end, and all of the value in columns are data we need. Then we can clean the value.</p>
<p><br></p>
</div>
<div id="unified-logic-type-of-value-and-group" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Unified logic type of value and group<a href="data-transformation.html#unified-logic-type-of-value-and-group" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this part, we first remove the grouped summary, then deal with the former country and grouped unspecified. We assign them, based their code, on eight <code>Continents</code>, which are: Africa, Asia, Europe, Latin America &amp; Caribbean, Middle East, North America, Oceania and Unknown State.</p>
<p>We also grouped the Unspecified countries/regions to unspecified eight continents to facilitate future analysis. And since the <code>Code of Origin</code> give two of the Unspecified code, so we follow the rule and fill it by four digit number end with “999”.</p>
<table>
<caption><span id="tab:unnamed-chunk-10">Table 3.3: </span>A table of Unspecified data.</caption>
<colgroup>
<col width="55%" />
<col width="21%" />
<col width="11%" />
<col width="11%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Place of Origin</th>
<th align="right">Code of Origin</th>
<th align="right">1949/50</th>
<th align="right">1954/55</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Africa, Unspecified</td>
<td align="right">1999</td>
<td align="right">19</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">Asia, Unspecified</td>
<td align="right">2999</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Europe, Unspecified</td>
<td align="right">3999</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">Latin America &amp; Caribbean, Unspecified</td>
<td align="right">4999</td>
<td align="right">173</td>
<td align="right">60</td>
</tr>
<tr class="odd">
<td align="left">Middle East, Unspecified</td>
<td align="right">5999</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">Oceania, Unspecified</td>
<td align="right">7999</td>
<td align="right">NA</td>
<td align="right">15</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>For the detail of code, please go to: <a href="https://github.com/MISSZH0U/international_students_inUS/blob/main/03-cleaning.Rmd">03-cleaning.Rmd</a></p>
<p><br></p>
</div>
</div>
<div id="data-use-for-next-few-parts" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Data use for next few parts<a href="data-transformation.html#data-use-for-next-few-parts" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now, this is the last step.
We combine the unspecified Continents data to grouped data, and get the final data set we will use for analysis.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="data-transformation.html#cb5-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> projdata.re.state <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="data-transformation.html#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">grepl</span>(<span class="st">&quot;Unspecified&quot;</span>,<span class="st">`</span><span class="at">Place of Origin</span><span class="st">`</span>) ) <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="data-transformation.html#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rows_update</span>(temp.data.fna, <span class="at">by =</span> <span class="st">&quot;Place of Origin&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="data-transformation.html#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rbind</span>(., temp.data.unsp)</span></code></pre></div>
<table style="width:100%;">
<caption><span id="tab:unnamed-chunk-12">Table 3.4: </span>A table of the first 6 rows of data ready for use in the future analysis.</caption>
<colgroup>
<col width="20%" />
<col width="18%" />
<col width="10%" />
<col width="10%" />
<col width="10%" />
<col width="10%" />
<col width="10%" />
<col width="10%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Place of Origin</th>
<th align="right">Code of Origin</th>
<th align="right">1949/50</th>
<th align="right">1954/55</th>
<th align="right">1959/60</th>
<th align="right">1964/65</th>
<th align="right">1969/70</th>
<th align="right">1974/75</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Burundi</td>
<td align="right">1101</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">6</td>
<td align="right">6</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">Djibouti</td>
<td align="right">1102</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Eritrea</td>
<td align="right">1103</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">Ethiopia</td>
<td align="right">1104</td>
<td align="right">37</td>
<td align="right">62</td>
<td align="right">170</td>
<td align="right">266</td>
<td align="right">540</td>
<td align="right">2050</td>
</tr>
<tr class="odd">
<td align="left">Kenya</td>
<td align="right">1105</td>
<td align="right">NA</td>
<td align="right">19</td>
<td align="right">156</td>
<td align="right">774</td>
<td align="right">492</td>
<td align="right">870</td>
</tr>
<tr class="even">
<td align="left">Rwanda</td>
<td align="right">1106</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">4</td>
</tr>
</tbody>
</table>
<p>Now this table will have this:</p>
<p><code>Place of Origin</code>: Including Places on country or region level, Unspecified is based on Continents level;</p>
<p><code>Code of Origin</code>: Code of Place, some place and former country have missing value;</p>
<p>Academic Years: <code>1949/50</code> to <code>2020/21</code>, but the years before the 21st century were inconsistent;</p>
<p><code>Continents</code>: Added group, based this eight categories: Africa, Asia, Europe, Latin America &amp; Caribbean, Middle East, North America, Oceania and Unknown State.</p>
<p><br></p>
<p>Also, we create a tidy data and add categorical for different century.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="data-transformation.html#cb6-1" aria-hidden="true" tabindex="-1"></a>df.tidy <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="data-transformation.html#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">pivot_longer</span>(<span class="fu">c</span>(<span class="st">&quot;1949/50&quot;</span>, <span class="st">&quot;1954/55&quot;</span>, <span class="st">&quot;1959/60&quot;</span>, <span class="st">&quot;1964/65&quot;</span>, <span class="st">&quot;1969/70&quot;</span>, <span class="st">&quot;1974/75&quot;</span>, <span class="st">&quot;1979/80&quot;</span>,</span>
<span id="cb6-3"><a href="data-transformation.html#cb6-3" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;1984/85&quot;</span>, <span class="st">&quot;1989/90&quot;</span>, <span class="st">&quot;1994/95&quot;</span>, <span class="st">&quot;1999/00&quot;</span>, <span class="st">&quot;2000/01&quot;</span>, <span class="st">&quot;2001/02&quot;</span>, <span class="st">&quot;2002/03&quot;</span>,</span>
<span id="cb6-4"><a href="data-transformation.html#cb6-4" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;2003/04&quot;</span>, <span class="st">&quot;2004/05&quot;</span>, <span class="st">&quot;2005/06&quot;</span>, <span class="st">&quot;2006/07&quot;</span>, <span class="st">&quot;2007/08&quot;</span>, <span class="st">&quot;2008/09&quot;</span>, <span class="st">&quot;2009/10&quot;</span>,</span>
<span id="cb6-5"><a href="data-transformation.html#cb6-5" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;2010/11&quot;</span>, <span class="st">&quot;2011/12&quot;</span>, <span class="st">&quot;2012/13&quot;</span>, <span class="st">&quot;2013/14&quot;</span>, <span class="st">&quot;2014/15&quot;</span>, <span class="st">&quot;2015/16&quot;</span>, <span class="st">&quot;2016/17&quot;</span>,</span>
<span id="cb6-6"><a href="data-transformation.html#cb6-6" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;2017/18&quot;</span>, <span class="st">&quot;2018/19&quot;</span>, <span class="st">&quot;2019/20&quot;</span>, <span class="st">&quot;2020/21&quot;</span>), <span class="at">names_to =</span> <span class="st">&quot;Acdemic_year&quot;</span>,</span>
<span id="cb6-7"><a href="data-transformation.html#cb6-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">values_to =</span> <span class="st">&quot;student_numbers&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-8"><a href="data-transformation.html#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>( <span class="at">century =</span> <span class="fu">case_when</span>(Acdemic_year <span class="sc">&lt;</span> <span class="st">&quot;2000/01&quot;</span> <span class="sc">~</span> <span class="st">&quot;20th century&quot;</span>,</span>
<span id="cb6-9"><a href="data-transformation.html#cb6-9" aria-hidden="true" tabindex="-1"></a>                              Acdemic_year <span class="sc">&gt;=</span> <span class="st">&quot;2000/01&quot;</span> <span class="sc">~</span> <span class="st">&quot;21th century&quot;</span>) )</span></code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-14">Table 3.5: </span>A table of the first 6 rows of tidydata</caption>
<colgroup>
<col width="19%" />
<col width="17%" />
<col width="13%" />
<col width="15%" />
<col width="19%" />
<col width="15%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Place of Origin</th>
<th align="right">Code of Origin</th>
<th align="left">Continents</th>
<th align="left">Acdemic_year</th>
<th align="right">student_numbers</th>
<th align="left">century</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Burundi</td>
<td align="right">1101</td>
<td align="left">Africa</td>
<td align="left">1949/50</td>
<td align="right">NA</td>
<td align="left">20th century</td>
</tr>
<tr class="even">
<td align="left">Burundi</td>
<td align="right">1101</td>
<td align="left">Africa</td>
<td align="left">1954/55</td>
<td align="right">NA</td>
<td align="left">20th century</td>
</tr>
<tr class="odd">
<td align="left">Burundi</td>
<td align="right">1101</td>
<td align="left">Africa</td>
<td align="left">1959/60</td>
<td align="right">NA</td>
<td align="left">20th century</td>
</tr>
<tr class="even">
<td align="left">Burundi</td>
<td align="right">1101</td>
<td align="left">Africa</td>
<td align="left">1964/65</td>
<td align="right">6</td>
<td align="left">20th century</td>
</tr>
<tr class="odd">
<td align="left">Burundi</td>
<td align="right">1101</td>
<td align="left">Africa</td>
<td align="left">1969/70</td>
<td align="right">6</td>
<td align="left">20th century</td>
</tr>
<tr class="even">
<td align="left">Burundi</td>
<td align="right">1101</td>
<td align="left">Africa</td>
<td align="left">1974/75</td>
<td align="right">5</td>
<td align="left">20th century</td>
</tr>
</tbody>
</table>
<p>Now this table will have this:</p>
<p><code>Place of Origin</code>: Including Places on country or region level, Unspecified is based on Continents level;</p>
<p><code>Code of Origin</code>: Code of Place, some place and former country have missing value;</p>
<p><code>Continents</code>: Added group, based this eight categories: Africa, Asia, Europe, Latin America &amp; Caribbean, Middle East, North America, Oceania and Unknown State;</p>
<p><code>Academic Years</code>: 1949/50 to 2020/21, years before the 21st century were inconsistent;</p>
<p><code>century</code>: 20th century or 21th century.</p>
<p><br></p>
<p>In next chapter, we will discuss the missing values of our data.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-values.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/MISSZH0U/international_students_inUS/edit/main/03-cleaning.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/MISSZH0U/international_students_inUS/blob/main/03-cleaning.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
